<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="冬夜将至！我的路好长！">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://feng6738723.github.io">
    <!--SEO-->





<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->


<title>冬夜将至！我的路好长！</title>


    <link rel="alternate" href="/atom.xml" title="冬夜将至！我的路好长！" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header" style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)">
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="罗 林">
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                <h2> 凛冬将至！ </h2>
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://feng6738723.github.io">冬夜将至！我的路好长！</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/爬虫/"><i class="fa "></i>爬虫</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/后端/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/工具/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="">
            
	            NO Title!
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/ ">
             
        </a>
    </span>
    

    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/11/22</span>
        </span>
        
            <span class="fa-wrap">
                <i class="fa fa-eye"></i>
                <span id="busuanzi_value_page_pv"></span>
            </span>
        
    
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h1 id="一、了解SQL"><a href="#一、了解SQL" class="headerlink" title="一、了解SQL"></a>一、了解SQL</h1><p><strong>数据库</strong>是一个以某种有组织的方式储存的数据集合</p>
<p><strong>数据库</strong>保存有组织的数据的容器（通常是一个文件或一组文件）</p>
<p><strong>表</strong>： 某种特定类型数据的结构化清单</p>
<pre><code>不能把不同的清单放在同一个表中  
</code></pre><p>​     每张表在同一个数据库中的名字是唯一的</p>
<p><strong>列</strong>：     表由列组成，列中储存着表中某部分的信息</p>
<p><strong>数据类型</strong>：    所容许的数据的类型。每个表列都有相应的数据类型，它限制（或容许）该列中存储的数据</p>
<p>​            数据类型还帮助正确地排序数据，并在优化磁盘使用方面起重要作用</p>
<p><strong>行</strong> ：     表中的数据是按行储存的， 网格中垂直为列，水平为行</p>
<p><strong>备注：    </strong>提到行（row）时称其为数据库记录(record)，这两个属于是可以互相替代的，但是，行才是正确</p>
<p><strong>主键：    </strong> 一列或一组列，其值能够唯一区分表中每个行（<strong>唯一表示表中每行的这个列（或这组列）成为主键</strong>）</p>
<p>虽然，并不总是都需要主键，但大多数程序猿都应保证创建的每个表都具有一个主键，以便于以后的数据操纵和管理              </p>
<p>​    <strong>任意两行都不具有相同的的主键值，每个行都必须具有一个主键值（主键不能为NULL）</strong></p>
<p><strong>普遍认为的几个好习惯：</strong></p>
<p>​    <strong>1，不更新主键列中的值</strong></p>
<p>​    <strong>2，不重用主键列的值</strong></p>
<p>​    <strong>3，不在主键列中使用可能会更改的值（列如，如果使用一个名字作为主键以标识某个供应商，当该供应商合并和更改其名字时，必须更改这个主键）</strong></p>
<p><strong>SQL：</strong>是一种专门用来与数据库通信的语言</p>
<p>优点：    1，开放，使用所有数据库</p>
<p>​        2，SQL简单易学（全都是英文单词组成）</p>
<p>​        3，强有力，灵活的语言元素。</p>
<p>​    </p>
<h1 id="二、MySQL简介"><a href="#二、MySQL简介" class="headerlink" title="二、MySQL简介"></a>二、MySQL简介</h1><h4 id="1，什么是MySQL"><a href="#1，什么是MySQL" class="headerlink" title="1，什么是MySQL"></a>1，什么是MySQL</h4><p>​    优点：1，免费使用</p>
<p>​         2，性能快</p>
<p>​        3，可信赖，大公司都在用</p>
<p>​        4，简单</p>
<p>​    用户———&gt;&gt;客户机———&gt;&gt; 服务器—————&gt;&gt;数据库</p>
<h4 id="2，MySQL命令使用程序"><a href="#2，MySQL命令使用程序" class="headerlink" title="2，MySQL命令使用程序"></a>2，MySQL命令使用程序</h4><p>​    可以直接在终端输入mysql就可以进入</p>
<p>​    个别需要输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>
<p>启动     -u 是用户登录    root 是用户名  -p 是使用密码登录  -h 服务器地址  -P 端口</p>
<p>​    用；结束</p>
<p>输入help或者\h获取帮助</p>
<p>quit或者exit</p>
<h1 id="三、使用MySQL"><a href="#三、使用MySQL" class="headerlink" title="三、使用MySQL"></a>三、使用MySQL</h1><h4 id="1-连接"><a href="#1-连接" class="headerlink" title="1,连接"></a>1,连接</h4><p>主机名：localhost  或者   127.0.0.1</p>
<p>端口：默认3306</p>
<p>用户名</p>
<p>密码</p>
<p>列如：数据库名字movie</p>
<p>切换数据库:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use movie</span><br></pre></td></tr></table></figure>
<p>显示数据库:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases</span><br></pre></td></tr></table></figure>
<p>显示所有的表:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show tables</span><br></pre></td></tr></table></figure>
<p>选择当前数据库可用的表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show columus from 表名</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">describe  表明</span><br></pre></td></tr></table></figure>
<p>支持的其他语言</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">show status 显示服务器状态</span><br><span class="line">show create database/table  显示创建特定数据库或表的mysql语句</span><br><span class="line">show grants 显示安全权限</span><br><span class="line">show errors/warnings 显示服务器错误或警告</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show help 显示所有允许的show语句</span><br></pre></td></tr></table></figure>
<h1 id="四、检索数据"><a href="#四、检索数据" class="headerlink" title="四、检索数据"></a>四、检索数据</h1><h4 id="1，检索单列"><a href="#1，检索单列" class="headerlink" title="1，检索单列"></a>1，检索单列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名 from 表</span><br></pre></td></tr></table></figure>
<h4 id="2，检索多列"><a href="#2，检索多列" class="headerlink" title="2，检索多列"></a>2，检索多列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名，列名，列名 from 表名</span><br></pre></td></tr></table></figure>
<h4 id="3，检索所有"><a href="#3，检索所有" class="headerlink" title="3，检索所有"></a>3，检索所有</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from 表名</span><br></pre></td></tr></table></figure>
<h4 id="4，检索不同的行"><a href="#4，检索不同的行" class="headerlink" title="4，检索不同的行"></a>4，检索不同的行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select distinct 列 from 表名</span><br></pre></td></tr></table></figure>
<p>distinct 不能被部分使用，除非都不同否则所有行都将检索</p>
<h4 id="5，限制结果"><a href="#5，限制结果" class="headerlink" title="5，限制结果"></a>5，限制结果</h4><p>显示前数字个</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名 from 表名 limit 数字</span><br></pre></td></tr></table></figure>
<p>显示从数字1开始，后面的数字2个</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select 列名 from 表名 limit 数字1,数字2</span><br><span class="line">或</span><br><span class="line">select 列名 from 表名 limit 数字1 offset 数字2</span><br></pre></td></tr></table></figure>
<p>检索的第一行是行0 不是行1</p>
<p>检索不够，直接返回能返回的行数</p>
<h4 id="6，使用完全限定表名"><a href="#6，使用完全限定表名" class="headerlink" title="6，使用完全限定表名"></a>6，使用完全限定表名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select 表名.行名 from 表名</span><br><span class="line">select 表名.行名 from 数据库.表名</span><br></pre></td></tr></table></figure>
<h1 id="五、排序检索数据"><a href="#五、排序检索数据" class="headerlink" title="五、排序检索数据"></a>五、排序检索数据</h1><p>不加排序条件，直接检索出来的顺序是无序的。</p>
<p>单列排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名 from 表名 order by 列名</span><br></pre></td></tr></table></figure>
<p>多列排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名1, 列名2 from 表名 order by 列名1, 列名2</span><br></pre></td></tr></table></figure>
<p>先按列名1的排序，不同时，才开始排列名2</p>
<p>指定排序方向</p>
<p>默认是升序，加了desc变为降序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名1, 列名2 from 表名 order by 列名1, 列名2 desc</span><br></pre></td></tr></table></figure>
<p>需要的后列名后面加desc</p>
<p>用limit要加在最后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名1, 列名2 from 表名 order by 列名1, 列名2 desc limit 数字</span><br></pre></td></tr></table></figure>
<h1 id="六、数据过滤"><a href="#六、数据过滤" class="headerlink" title="六、数据过滤"></a>六、数据过滤</h1><p>1，where子句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名1 from 表名 where 列名1 = 数字</span><br></pre></td></tr></table></figure>
<p>order by 要位于where之后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">= 等于</span><br><span class="line">&lt;&gt; 不等于</span><br><span class="line">!= 不等于</span><br><span class="line">&lt; 小于</span><br><span class="line">&lt;= 小于等于</span><br><span class="line">&gt; 大于</span><br><span class="line">&gt;= 大于等于</span><br><span class="line">BETWEEN 在指定的两个值之间</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名，列名 from 表 where 列名 != 数字    这种只能用！=</span><br></pre></td></tr></table></figure>
<h1 id="七、数据过滤"><a href="#七、数据过滤" class="headerlink" title="七、数据过滤"></a>七、数据过滤</h1><h4 id="1-and-操作符号"><a href="#1-and-操作符号" class="headerlink" title="1,and 操作符号"></a>1,and 操作符号</h4><p>两个条件并列。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 条件1 and 条件2</span><br></pre></td></tr></table></figure>
<p>两个条件筛选。</p>
<p>每添一条过滤条件就要使用一个and</p>
<h4 id="2，or操作符号"><a href="#2，or操作符号" class="headerlink" title="2，or操作符号"></a>2，or操作符号</h4><p>两个条件有一个成立就行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列3 from 表 where 条件1 or 条件2</span><br></pre></td></tr></table></figure>
<h4 id="3、计算次序"><a href="#3、计算次序" class="headerlink" title="3、计算次序"></a>3、计算次序</h4><p>这种SQL不能判断</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列3 from 表 where 条件1 or 条件2 and 条件3</span><br></pre></td></tr></table></figure>
<p>必须加（）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列3 from 表 where (条件1 or 条件2) and 条件3</span><br></pre></td></tr></table></figure>
<h4 id="4、in操作符"><a href="#4、in操作符" class="headerlink" title="4、in操作符"></a>4、in操作符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where in (起点，终点) order by 列1</span><br></pre></td></tr></table></figure>
<p>in和or的功能差不多的</p>
<h4 id="5、not操作符"><a href="#5、not操作符" class="headerlink" title="5、not操作符"></a>5、not操作符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where not 条件</span><br></pre></td></tr></table></figure>
<p>not可以和in 、between 和exists </p>
<h1 id="八、用通配符进行过滤"><a href="#八、用通配符进行过滤" class="headerlink" title="八、用通配符进行过滤"></a>八、用通配符进行过滤</h1><h4 id="1，like后跟通配符匹配"><a href="#1，like后跟通配符匹配" class="headerlink" title="1，like后跟通配符匹配"></a>1，like后跟通配符匹配</h4><p>%表示任何字符出现任意次数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 like &apos; 部分字符%&apos;</span><br></pre></td></tr></table></figure>
<p>这里要区分大小写。</p>
<p>例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&apos;abc%&apos;	abc开头</span><br><span class="line">&apos;%abc&apos;	abc结尾</span><br><span class="line">&apos;a%b&apos;	a开头，b结尾</span><br><span class="line">&apos;%ab%&apos;	无论哪里有ab</span><br></pre></td></tr></table></figure>
<p><strong>不能匹配NULL</strong></p>
<h4 id="2、下划线通配符"><a href="#2、下划线通配符" class="headerlink" title="2、下划线通配符"></a>2、下划线通配符</h4><p>_ 和%的用途是一样的。但是，_只能匹配单个字符</p>
<p>有几个_匹配多少个位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 like &apos;_部分字符&apos;</span><br></pre></td></tr></table></figure>
<p>通配符比其他搜索所花的时间更长</p>
<p>1，不要过度使用通配符。</p>
<p>2，没必要的情况下，不要用在搜索的开始</p>
<p>3，确定通配符所在的位置，否则返回不是想要的数据</p>
<h1 id="九、正则表达式进行搜索"><a href="#九、正则表达式进行搜索" class="headerlink" title="九、正则表达式进行搜索"></a>九、正则表达式进行搜索</h1><h4 id="1，regexp-类型"><a href="#1，regexp-类型" class="headerlink" title="1，regexp 类型"></a>1，regexp 类型</h4><p>regexp正则表达式</p>
<p>regexp的用法和like一样，但是，like是整行，regexp是包括行内值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 regexp &apos;部分字符&apos;</span><br></pre></td></tr></table></figure>
<h4 id="2，or-类型"><a href="#2，or-类型" class="headerlink" title="2，or 类型"></a>2，or 类型</h4><p>两个中的任意一个符合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 regexp &apos;部分字符|部分字符&apos;</span><br></pre></td></tr></table></figure>
<p>还用几个加几个“|”分隔</p>
<h4 id="3，匹配几个字符之一"><a href="#3，匹配几个字符之一" class="headerlink" title="3，匹配几个字符之一"></a>3，匹配几个字符之一</h4><p>[一组字符] 和|功能是一样的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 regexp &apos;[部分字符部分字符]&apos;</span><br><span class="line">相当于</span><br><span class="line">select 列1，列2 from 表 where 列 regexp &apos;[部分字符|部分字符]&apos;</span><br></pre></td></tr></table></figure>
<p>结果是相同的，但是没有加[ ]，结果就不一样了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 regexp &apos;[^部分字符部分字符]&apos;  #匹配非</span><br></pre></td></tr></table></figure>
<h4 id="4，匹配范围"><a href="#4，匹配范围" class="headerlink" title="4，匹配范围"></a>4，匹配范围</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[0-9]   [a-z]   [A-Z]</span><br></pre></td></tr></table></figure>
<p>不要哪个，单独的踢出来不写</p>
<h4 id="5-特殊字符"><a href="#5-特殊字符" class="headerlink" title="5,特殊字符"></a>5,特殊字符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 regexp &apos;\\.&apos;</span><br></pre></td></tr></table></figure>
<p>表示查找”.”，’\\’表示查找全部</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\\f		换页</span><br><span class="line">\\n 	换行</span><br><span class="line">\\r 	回车</span><br><span class="line">\\t		制表</span><br><span class="line">\\v		纵向制表</span><br></pre></td></tr></table></figure>
<p><strong>多数正则表达式是一个”\”，但是MySQL要求两个”\\”</strong></p>
<h4 id="6-匹配字符类"><a href="#6-匹配字符类" class="headerlink" title="6,匹配字符类"></a>6,匹配字符类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">类 				说 明</span><br><span class="line">[:alnum:] 任意字母和数字（同[a-zA-Z0-9]）</span><br><span class="line">[:alpha:] 任意字符（同[a-zA-Z]）</span><br><span class="line">[:blank:] 空格和制表（同[\\t]）</span><br><span class="line">[:cntrl:] ASCII控制字符（ASCII 0到31和127）</span><br><span class="line">[:digit:] 任意数字（同[0-9]）</span><br><span class="line">[:graph:] 与[:print:]相同，但不包括空格</span><br><span class="line">[:lower:] 任意小写字母（同[a-z]）</span><br><span class="line">[:print:] 任意可打印字符</span><br><span class="line">[:punct:] 既不在[:alnum:]又不在[:cntrl:]中的任意字符</span><br><span class="line">[:space:] 包括空格在内的任意空白字符（同[\\f\\n\\r\\t\\v]）</span><br><span class="line">[:upper:] 任意大写字母（同[A-Z]）</span><br><span class="line">[:xdigit:] 任意十六进制数字（同[a-fA-F0-9]）</span><br></pre></td></tr></table></figure>
<h4 id="7，匹配多个实例"><a href="#7，匹配多个实例" class="headerlink" title="7，匹配多个实例"></a>7，匹配多个实例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">元 字 符 				说 明</span><br><span class="line">* 					0个或多个匹配</span><br><span class="line">+				 1个或多个匹配（等于&#123;1,&#125;）</span><br><span class="line">? 				0个或1个匹配（等于&#123;0,1&#125;）</span><br><span class="line">&#123;n&#125;				 指定数目的匹配</span><br><span class="line">&#123;n,&#125; 			不少于指定数目的匹配</span><br><span class="line">&#123;n,m&#125; 			匹配数目的范围（m不超过255）</span><br></pre></td></tr></table></figure>
<h4 id="8-定位符"><a href="#8-定位符" class="headerlink" title="8,定位符"></a>8,定位符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">^ 文本的开始</span><br><span class="line">$ 文本的结尾</span><br><span class="line">[[:&lt;:]] 词的开始</span><br><span class="line">[[:&gt;:]] 词的结尾</span><br></pre></td></tr></table></figure>
<p>开始</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where 列 regexp &apos;^[部分字符部分字符]&apos;</span><br></pre></td></tr></table></figure>
<h1 id="十、创建计算字段"><a href="#十、创建计算字段" class="headerlink" title="十、创建计算字段"></a>十、创建计算字段</h1><h4 id="1，计算字段"><a href="#1，计算字段" class="headerlink" title="1，计算字段"></a>1，计算字段</h4><p>储存在数据库中的数据一般不是应用程序所需要的格式。</p>
<p>可以在SQL语句内完成转换和格式化处理，也可以在客户机上完成，但是，在数据库中完成比在客户机上完成快很多</p>
<h4 id="2，拼接字段"><a href="#2，拼接字段" class="headerlink" title="2，拼接字段"></a>2，拼接字段</h4><p>将值链接在一起构成一个单值，在SQL的select中，可使用concat（）函数来拼接两个列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select concat(列名1，列名2) from 表名</span><br></pre></td></tr></table></figure>
<p>可以去除空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select concat(Trim(列名1)，Trim（列名2)） from 表名</span><br></pre></td></tr></table></figure>
<p>RTrim()去除右空格，LTrim()去除左空格</p>
<h4 id="3，使用别名"><a href="#3，使用别名" class="headerlink" title="3，使用别名"></a>3，使用别名</h4><p>如果要查看结果可以，但是，一个未别名的列不能用于客户机应用中，因为客户机没有办法引用它。</p>
<p>我们别名as关键字赋予</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select concat(列名1，列名2) as 别名 from 表名</span><br></pre></td></tr></table></figure>
<p>别名，也叫导出列</p>
<h4 id="4，执行计算"><a href="#4，执行计算" class="headerlink" title="4，执行计算"></a>4，执行计算</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列1*列2 as 列名 from 表名</span><br></pre></td></tr></table></figure>
<h1 id="十一，使用数据处理函数"><a href="#十一，使用数据处理函数" class="headerlink" title="十一，使用数据处理函数"></a>十一，使用数据处理函数</h1><h4 id="1，函数"><a href="#1，函数" class="headerlink" title="1，函数"></a>1，函数</h4><p>代码是具有可移植性的。不同的DBMS上有SQL相差不大，但是函数的可移植性不强，不同的DBMS差异较大。</p>
<h4 id="2，文本处理函数"><a href="#2，文本处理函数" class="headerlink" title="2，文本处理函数"></a>2，文本处理函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，Upper(列1) as 列名 from 表</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">函 数		 说 明</span><br><span class="line">Left() 		返回串左边的字符</span><br><span class="line">Length()		 返回串的长度</span><br><span class="line">Locate() 		找出串的一个子串</span><br><span class="line">Lower() 		将串转换为小写</span><br><span class="line">LTrim() 		去掉串左边的空格</span><br><span class="line">Right()		 返回串右边的字符</span><br><span class="line">RTrim() 		去掉串右边的空格</span><br><span class="line">Soundex() 	返回串的SOUNDEX值</span><br><span class="line">SubString()	 返回子串的字符</span><br><span class="line">Upper()		 将串转换为大写</span><br></pre></td></tr></table></figure>
<p>SOUNDEX需要做进一步的解释。SOUNDEX是一个将任何文本串转换为描述其语音表示的字母数字模式的算法。SOUNDEX考虑了类似的发音字符和音节，使得能对串进行发音比较而不是字母比较。虽然SOUNDEX不是SQL概念，但MySQL（就像多数DBMS一样）都提供对SOUNDEX的支持。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where soundex(&apos;列2&apos;)=soundex(&apos;搜索内容&apos;)</span><br></pre></td></tr></table></figure>
<p>这里是发音相似搜索</p>
<h4 id="3，日期和事件处理函数"><a href="#3，日期和事件处理函数" class="headerlink" title="3，日期和事件处理函数"></a>3，日期和事件处理函数</h4><p>常用的日期和事件处理函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">AddDate() 增加一个日期（天、周等）</span><br><span class="line">AddTime() 增加一个时间（时、分等）</span><br><span class="line">CurDate() 返回当前日期</span><br><span class="line">CurTime() 返回当前时间</span><br><span class="line">Date() 返回日期时间的日期部分</span><br><span class="line">DateDiff() 计算两个日期之差</span><br><span class="line">Date_Add() 高度灵活的日期运算函数</span><br><span class="line">Date_Format() 返回一个格式化的日期或时间串</span><br><span class="line">Day() 返回一个日期的天数部分</span><br><span class="line">DayOfWeek() 对于一个日期，返回对应的星期几</span><br><span class="line">Hour() 返回一个时间的小时部分</span><br><span class="line">Minute() 返回一个时间的分钟部分</span><br><span class="line">Month() 返回一个日期的月份部分</span><br><span class="line">Now() 返回当前日期和时间</span><br><span class="line">Second() 返回一个时间的秒部分</span><br><span class="line">Time() 返回一个日期时间的时间部分</span><br><span class="line">Year() 返回一个日期的年份部分</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where data(列)=&apos;2005-09-01&apos;</span><br></pre></td></tr></table></figure>
<p>搜索本月所有的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where data(列) between &apos;2018-09-01&apos; and &apos;2018-09-30&apos;</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表 where year(列)=2018 and month(列)=9</span><br></pre></td></tr></table></figure>
<h4 id="4，数值处理函数"><a href="#4，数值处理函数" class="headerlink" title="4，数值处理函数"></a>4，数值处理函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">函 数 	说 明</span><br><span class="line">Abs()	 	返回一个数的绝对值</span><br><span class="line">Cos() 		返回一个角度的余弦</span><br><span class="line">Exp()		 返回一个数的指数值</span><br><span class="line">Mod()	 	返回除操作的余数</span><br><span class="line">Pi() 		返回圆周率</span><br><span class="line">Rand() 		返回一个随机数</span><br><span class="line">Sin() 		返回一个角度的正弦</span><br><span class="line">Sqrt() 		返回一个数的平方根</span><br><span class="line">Tan() 		返回一个角度的正切</span><br></pre></td></tr></table></figure>
<h1 id="十二、汇总数据"><a href="#十二、汇总数据" class="headerlink" title="十二、汇总数据"></a>十二、汇总数据</h1><h4 id="1，聚集函数（运行在行组上，计算和返回单个值的函数）"><a href="#1，聚集函数（运行在行组上，计算和返回单个值的函数）" class="headerlink" title="1，聚集函数（运行在行组上，计算和返回单个值的函数）"></a>1，聚集函数（运行在行组上，计算和返回单个值的函数）</h4><p>有时候，我们只用检索总数据，不用具体检索出来，比如：</p>
<p>​    1，确定表中行数（或者满足某个条件或包含某个特定值的行数）</p>
<p>​    2，获得表中行组的和</p>
<p>​    3，找出表列（或所有行或某些特定的行）的最大值、最小值和平均值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">函 数 		说 明</span><br><span class="line">AVG() 		返回某列的平均值</span><br><span class="line">COUNT() 	返回某列的行数</span><br><span class="line">MAX() 		返回某列的最大值</span><br><span class="line">MIN()		 返回某列的最小值</span><br><span class="line">SUM()		 返回某列值之和</span><br></pre></td></tr></table></figure>
<h5 id="1-1-avg"><a href="#1-1-avg" class="headerlink" title="1.1 avg()"></a>1.1 avg()</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select avg(列名或者行名) as 新列名 from 表</span><br></pre></td></tr></table></figure>
<p>使用列名作为函数参数给出，要获得多个列的平均值，必须使用多个avg</p>
<p>NULL：avg（）函数忽略列值为null的行</p>
<h5 id="1-2，count（）函数"><a href="#1-2，count（）函数" class="headerlink" title="1.2，count（）函数"></a>1.2，count（）函数</h5><p>count(*)表中所有行进行计数，<strong>不管表中包含是空值（NULL)还是非空值</strong></p>
<p>count(column)特定的行进行计数   <strong>忽略NULL</strong></p>
<p>对所有：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) as 新名称 from 表</span><br></pre></td></tr></table></figure>
<p>对列：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(列) as 新名称 from 表</span><br></pre></td></tr></table></figure>
<h5 id="1-3-min-max"><a href="#1-3-min-max" class="headerlink" title="1.3 min(),max()"></a>1.3 min(),max()</h5><p>最大最小值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select max/min(列) as 新列名 from 表</span><br></pre></td></tr></table></figure>
<p><strong>自动忽略NULL</strong>的行</p>
<p>如果是按特定的行，那么就是最后/最前(max/min)一行</p>
<h5 id="1-4-sum"><a href="#1-4-sum" class="headerlink" title="1.4 sum()"></a>1.4 sum()</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select sum(行) as 新列名 from 表 where 条件</span><br></pre></td></tr></table></figure>
<p><strong>自动忽略NULL</strong>的行</p>
<h4 id="2，聚集不同值"><a href="#2，聚集不同值" class="headerlink" title="2，聚集不同值"></a>2，聚集不同值</h4><p><strong>distinct</strong>这个只能MySQL 5 以上的版本，5以下版本不支持   all是默认参数，不指定distinct 假定为all</p>
<p>2.1 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selet avg(distinct 列) as 新列名 from 表 where 条件</span><br></pre></td></tr></table></figure>
<p>只计算不同的值</p>
<p>如果指定列名，只能用count（），不能用count（*），不能用于计算或表达式</p>
<h4 id="3，组合聚集函数"><a href="#3，组合聚集函数" class="headerlink" title="3，组合聚集函数"></a>3，组合聚集函数</h4><p>select 可根据需要包含多个聚集函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select count(*) as 新列名 ,</span><br><span class="line">	min(列名) as 新列名，</span><br><span class="line">	max(列名) as 新列名，</span><br><span class="line">	avg(列名) as 新列名，</span><br><span class="line">from 表</span><br></pre></td></tr></table></figure>
<h1 id="十三，分组数据"><a href="#十三，分组数据" class="headerlink" title="十三，分组数据"></a>十三，分组数据</h1><h4 id="1，创建分组"><a href="#1，创建分组" class="headerlink" title="1，创建分组"></a>1，创建分组</h4><p>group by</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1 ，列 as 新列名 from 表 group by 列1</span><br></pre></td></tr></table></figure>
<p><strong>注意事项</strong>：</p>
<p>​    ·group by 可以包含任意数目的列</p>
<p>​    ·group by中嵌套分组，最后数值全部取回，不能单个取回</p>
<p>​    ·group by 子句每个列必须是检索列和有效表达式，子句后跟相同表达式，    不能使用别名</p>
<p>​    ·除了聚集计算，每个列必须在group by子句中给出</p>
<p>​    ·如果分组中有null，则作为分组返回，如果是多行，则分为一组</p>
<p>​    ·group by 子句必须出现在where子句之后，order by之前</p>
<p>每个分组以及分组汇总级别的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1 ，列 as 新列名 from 表 group by 列1 with rollup</span><br></pre></td></tr></table></figure>
<h4 id="2，过滤分组"><a href="#2，过滤分组" class="headerlink" title="2，过滤分组"></a>2，过滤分组</h4><p>having过滤分组，where只能过滤行。</p>
<p>having支持where的所有操作符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列 as 新列名 from 表 group by 列 having 过滤条件</span><br></pre></td></tr></table></figure>
<p>having和where并用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 as 新列名 from 表 where 条件1 group by 列 having 条件2</span><br></pre></td></tr></table></figure>
<h4 id="3，分组和排序"><a href="#3，分组和排序" class="headerlink" title="3，分组和排序"></a>3，分组和排序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	ORDER BY 					GROUP BY </span><br><span class="line">排序产生的输出 				分组行。但输出可能不是分组的顺序</span><br><span class="line">任意列都可以使用（甚至				只可能使用选择列或表达式列，而且必须使用每个选择</span><br><span class="line">非选择的列也可以使用）				列表达式</span><br><span class="line">不一定需要 						如果与聚集函数一起使用列（或表达式），则必须使用</span><br></pre></td></tr></table></figure>
<p>用group by 的子句用order by来排序的唯一方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1 列2 as 新列名 from 表 group by 列 having 条件 order by 列</span><br></pre></td></tr></table></figure>
<h4 id="4，select-顺序"><a href="#4，select-顺序" class="headerlink" title="4，select 顺序"></a>4，select 顺序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">子 句 		说 明 			是否必须使用</span><br><span class="line">SELECT 		要返回的列或表达式 		是</span><br><span class="line">FROM 		从中检索数据的表 		仅在从表选择数据时使用</span><br><span class="line">WHERE		 行级过滤				 否</span><br><span class="line">GROUP BY 		分组说明 		仅在按组计算聚集时使用</span><br><span class="line">HAVING 			组级过滤 			否</span><br><span class="line">ORDER BY 		输出排序顺序 			否</span><br><span class="line">LIMIT			 要检索的行数			 否</span><br></pre></td></tr></table></figure>
<h1 id="十四、使用子查询"><a href="#十四、使用子查询" class="headerlink" title="十四、使用子查询"></a>十四、使用子查询</h1><h4 id="1，利用子查询过滤"><a href="#1，利用子查询过滤" class="headerlink" title="1，利用子查询过滤"></a>1，利用子查询过滤</h4><p>简单查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列 from 表 where 条件</span><br></pre></td></tr></table></figure>
<p>子查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列 from 表 where (select 列 from 表 where 条件)</span><br></pre></td></tr></table></figure>
<p>子查询，没有限制，但是由于性能问题，不要过多。</p>
<p>使用子查询必须保证select和where子句相同的数目</p>
<p>子查询一般和in连用，但是也可以用，= 和 &lt;&gt;</p>
<h4 id="2-作为计算字段使用子查询"><a href="#2-作为计算字段使用子查询" class="headerlink" title="2,作为计算字段使用子查询"></a>2,作为计算字段使用子查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1 ，列2 ，(select 列 from 表 where 条件) as 新列名 from 表 order by 列</span><br></pre></td></tr></table></figure>
<p>条件当中，必须匹配限定列名。</p>
<p>内查询快于外查询</p>
<h1 id="十五、联结表"><a href="#十五、联结表" class="headerlink" title="十五、联结表"></a>十五、联结表</h1><h4 id="1，关系表"><a href="#1，关系表" class="headerlink" title="1，关系表"></a>1，关系表</h4><p>主键：能表示唯一的标识</p>
<p>外键：外键为某个表中的一列，它包含另一个表的主键值，定义了两个表之间的关系</p>
<p>关系型数据库比非关系型数据库可伸缩性强。</p>
<p><strong>可伸缩性</strong>：能够是响应不断增加的工作量而不失败，设计良好的数据库或应用程序称之为可伸缩性好</p>
<h4 id="2，为什么要使用联结"><a href="#2，为什么要使用联结" class="headerlink" title="2，为什么要使用联结"></a>2，为什么要使用联结</h4><p>联结是一种机制，用来在一条select语句中关联表，因此称之为联结。</p>
<h4 id="3，创建联结"><a href="#3，创建联结" class="headerlink" title="3，创建联结"></a>3，创建联结</h4><p>简单创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列3 from 表1，表2 where 表1主 =表2主</span><br></pre></td></tr></table></figure>
<h4 id="4，笛卡尔积-又称为叉联结"><a href="#4，笛卡尔积-又称为叉联结" class="headerlink" title="4，笛卡尔积(又称为叉联结)"></a>4，笛卡尔积(又称为叉联结)</h4><p>由没有联结条件的表关系返回的结果为笛卡尔积。检索出的行的数目将是第一个表中的行数乘以第二个表中的行数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列3 from 表1，表2</span><br></pre></td></tr></table></figure>
<h4 id="5，内部联结"><a href="#5，内部联结" class="headerlink" title="5，内部联结"></a>5，内部联结</h4><p>基于两个表之间的相等测试称为 <strong>等值联结</strong>，也称为<strong>内部联结</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列3 from 表1 inner join 表2 on 表1主=表2主</span><br></pre></td></tr></table></figure>
<p>规范建议使用inner join </p>
<h4 id="6，联结多个表"><a href="#6，联结多个表" class="headerlink" title="6，联结多个表"></a>6，联结多个表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2，列3 ，列4 from 表1，表2，表3 where 表1=表2 and 表1 =表3</span><br></pre></td></tr></table></figure>
<p>子查询可以用联结多个表的方式来实现。</p>
<h1 id="十六、创建高级联结"><a href="#十六、创建高级联结" class="headerlink" title="十六、创建高级联结"></a>十六、创建高级联结</h1><h4 id="1，使用表别名"><a href="#1，使用表别名" class="headerlink" title="1，使用表别名"></a>1，使用表别名</h4><p>别名：除了用于列名和计算字段外，还可以给表别名，主要因为：</p>
<p>​        1，缩短SQL语句</p>
<p>​            2，允许在单条SELECT语句中多次使用相同的表 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1，列2 from 表1 as 新列名1 ，表2 as 新列名2 ，表3 as 新列名3 where 表1主 = 表2主 and 表1主 = 表3主</span><br></pre></td></tr></table></figure>
<h4 id="2，使用不同类型的联结"><a href="#2，使用不同类型的联结" class="headerlink" title="2，使用不同类型的联结"></a>2，使用不同类型的联结</h4><h5 id="2-1-自联结"><a href="#2-1-自联结" class="headerlink" title="2.1 自联结"></a>2.1 自联结</h5><p>使用相同的表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1 ，列2 from 表1 where 列1 = （select 列3 from 表1 where 列1 = 某个值)</span><br></pre></td></tr></table></figure>
<p>使用表别名的主要原因之一是能在单条SELECT语句中不 止一次引用相同的表。 </p>
<p>自联结</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select p1.列1，p1.列2 from 表1 as p1 ，表1 as p2 where p1.列1 = p2.列1 and p2.列1=某个值</span><br></pre></td></tr></table></figure>
<p>的第一次出现为别名p1 ，第二次出现为别名p2 。SELECT语 句使用p1前缀明确地给出所需列的全名 。即使它们事实上是同一个列 ，MySQL不知道想 要的是哪一个列 ，WHERE（通过匹配p1中 的列1和p2中的列1）首先联结两个表，然后按第二个表中的 列1过滤数据，返回所需的数据。 </p>
<p><strong>用自联结而不用子查询</strong> </p>
<p>有时候处理联结远比处理子查询快得多。 </p>
<h5 id="2-2-自然联结"><a href="#2-2-自然联结" class="headerlink" title="2.2 自然联结"></a>2.2 自然联结</h5><p>有一个列出现在不止一个表中 ,自然联结排除多次出现，使每个列只返回一次 </p>
<p>自然联结是这样一种联结，其中你只能选择那些唯一的列。这一 般是通过对表使用通配符（SELECT *），对所有其他表的列使用明确的子 集来完成的。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select A.* ,B.列1，C.列2 from 表1 as A ，表2 as B ，表3 as C where 表1主 =表2主 and 表3主 = 表2主 and 条件</span><br></pre></td></tr></table></figure>
<p>在这个例子中，通配符只对第一个表使用。所有其他列明确列 出，所以没有重复的列被检索出来。 </p>
<p>迄今为止我们建立的每个内部联结都是自然联结，很可能 我们永远都不会用到不是自然联结的内部联结。 </p>
<h5 id="2-3-外部联结"><a href="#2-3-外部联结" class="headerlink" title="2.3 外部联结"></a>2.3 外部联结</h5><p>许多联结将一个表中的行与另一个表中的行相关联 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 表1.列1， 表2.列2 from 表1 left out join orders on 表1主=表2主</span><br></pre></td></tr></table></figure>
<p>这条SELECT语句使用了关 键字OUTER JOIN来指定联结的类型（而不是在WHERE子句中指 定）。但是，与内部联结关联两个表中的行不同的是，外部联结还包括没 有关联行的行。在使用OUTER JOIN语法时，必须使用RIGHT或LEFT关键字 指定包括其所有行的表（RIGHT指出的是OUTER JOIN右边的表，而LEFT 指出的是OUTER JOIN左边的表）。上面的例子使用LEFT OUTER JOIN从FROM 子句的左边表（customers表）中选择所有行。为了从右边的表中选择所 有行，应该使用RIGHT OUTER JOIN </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 表1.列1， 表2.列2 from 表2 left out join orders on 表1主=表2主</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">没有*=操作符 MySQL不支持简化字符*=和=*的使用，这两种操作符在其他DBMS中是很流行的。</span><br></pre></td></tr></table></figure>
<p>它们之间的唯一差别是所关联的表的顺序不 同。 </p>
<p>究竟使用哪一种纯粹是根据方便而定。 </p>
<h5 id="2-4-使用带聚集函数的联结"><a href="#2-4-使用带聚集函数的联结" class="headerlink" title="2.4 使用带聚集函数的联结"></a>2.4 使用带聚集函数的联结</h5><p>虽然至今为止聚集函数 的所有例子只是从单个表汇总数据，但这些函数也可以与联结一起使用。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 表1.列1 ,表2.列2 from 表1 left out join 表2 on 表1主=表2主</span><br></pre></td></tr></table></figure>
<h4 id="3-使用联结和联结条件"><a href="#3-使用联结和联结条件" class="headerlink" title="3.使用联结和联结条件"></a>3.使用联结和联结条件</h4><p> 注意所使用的联结类型。一般我们使用内部联结，但使用外部联 结也是有效的。</p>
<p>  保证使用正确的联结条件，否则将返回不正确的数据。 </p>
<p> 应该总是提供联结条件，否则会得出笛卡儿积。</p>
<p>  在一个联结中可以包含多个表，甚至对于每个联结可以采用不同 的联结类型。虽然这样做是合法的，一般也很有用，但应该在一 起测试它们前，分别测试每个联结。这将使故障排除更为简单 </p>
<h1 id="十七、-组合查询"><a href="#十七、-组合查询" class="headerlink" title="十七、 组合查询"></a>十七、 组合查询</h1><p>MySQL也允许执行多个查询（多条SELECT语句），并将结果作为单个查询结果集返回。这些组合查询通常称为并（union）或复合查询（compound query）。</p>
<p>两种基本情况，其中需要使用组合查询：</p>
<p> 在单个查询中从不同的表返回类似结构的数据<br> 对单个表执行多个查询，按单个查询返回数据</p>
<h4 id="1，使用union"><a href="#1，使用union" class="headerlink" title="1，使用union"></a>1，使用union</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1 ，列2 from 表1 where 条件1 union select 列1 ，列2 from 表1 where 条件2</span><br></pre></td></tr></table></figure>
<p><strong>去除重复的行是默认行为，取消去除行为使用union all</strong></p>
<p>order by 必须在select 之后</p>
<p>UNION指示MySQL执行两条SELECT语句，并把输出组合成单个查询结果集。</p>
<p>但对于更复杂的过滤条件，或者从多个表（而不是单个表）中检索数据的情形，使用UNION可能会使处理更简单</p>
<h4 id="2，使用union规则"><a href="#2，使用union规则" class="headerlink" title="2，使用union规则"></a>2，使用union规则</h4><p> UNION必须由两条或两条以上的SELECT语句组成，语句之间用关键字UNION分隔（因此，如果组合4条SELECT语句，将要使用3个UNION关键字）。<br> UNION中的每个查询必须包含相同的列、表达式或聚集函数（不过各个列不需要以相同的次序列出）。<br> 列数据类型必须兼容：类型不必完全相同，但必须是DBMS可以隐含地转换的类型（例如，不同的数值类型或不同的日期类型）。<br>如果遵守了这些基本规则或限制，则可以将并用于任何数据检索</p>
<h4 id="3，对结果排序"><a href="#3，对结果排序" class="headerlink" title="3，对结果排序"></a>3，对结果排序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列1 ，列2 from 表1 where 条件1 union select 列1 ，列2 from 表1 where 条件2 order by 排序条件</span><br></pre></td></tr></table></figure>
<h1 id="十八、全文本搜索"><a href="#十八、全文本搜索" class="headerlink" title="十八、全文本搜索"></a>十八、全文本搜索</h1><h4 id="1，理解全文本搜索"><a href="#1，理解全文本搜索" class="headerlink" title="1，理解全文本搜索"></a>1，理解全文本搜索</h4><p> 性能——通配符和正则表达式匹配通常要求MySQL尝试匹配表中所有行（而且这些搜索极少使用表索引）。因此，由于被搜索行数不断增加，这些搜索可能非常耗时。</p>
<p> 明确控制——使用通配符和正则表达式匹配，很难（而且并不总是能）明确地控制匹配什么和不匹配什么。例如，指定一个词必须匹配，一个词必须不匹配，而一个词仅在第一个词确实匹配的情况下才可以匹配或者才可以不匹配。</p>
<p> 智能化的结果——虽然基于通配符和正则表达式的搜索提供了非常灵活的搜索，但它们都不能提供一种智能化的选择结果的方法。例如，一个特殊词的搜索将会返回包含该词的所有行，而不区分包含单个匹配的行和包含多个匹配的行（按照可能是更好的匹配来排列它们）。类似，一个特殊词的搜索将不会找出不包含该词但包含其他相关词的行。</p>
<h4 id="2，启动使用全文本搜索"><a href="#2，启动使用全文本搜索" class="headerlink" title="2，启动使用全文本搜索"></a>2，启动使用全文本搜索</h4><p>创建表的时候，创建text格式的行，并且在创建语句中指定  fulltext（行名）</p>
<h4 id="3，进行全文本搜索"><a href="#3，进行全文本搜索" class="headerlink" title="3，进行全文本搜索"></a>3，进行全文本搜索</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 文本列 from 表 where match(文本列) against(&apos;内容&apos;)</span><br></pre></td></tr></table></figure>
<p>match自带出现排序。不区分大小写，按优先级返回</p>
<h4 id="4，扩展查询"><a href="#4，扩展查询" class="headerlink" title="4，扩展查询"></a>4，扩展查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 文本列 from 表 where match(文本列) against(&apos;内容&apos; with query expansion)</span><br></pre></td></tr></table></figure>
<h4 id="5，布尔文本搜索"><a href="#5，布尔文本搜索" class="headerlink" title="5，布尔文本搜索"></a>5，布尔文本搜索</h4><p> 要匹配的词；<br> 要排斥的词（如果某行包含这个词，则不返回该行，即使它包含<br>其他指定的词也是如此）；<br> 排列提示（指定某些词比其他词更重要，更重要的词等级更高）；<br> 表达式分组；<br> 另外一些内容。</p>
<p>这个没有fulltext的索引也可以用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 文本列 from 表 where match(文本列) against(&apos;内容&apos; in boolean mode);</span><br></pre></td></tr></table></figure>
<p><strong>搜索性能随数据量的增加而降低</strong></p>
<p>搜索，包含A 不包含B</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 文本列 from 表 where match(文本列) against(&apos;A -B&apos; in boolean mode);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ 			包含，词必须存在</span><br><span class="line">- 			排除，词必须不出现</span><br><span class="line">&gt;			包含，而且增加等级值</span><br><span class="line">&lt; 			包含，且减少等级值</span><br><span class="line">() 			把词组成子表达式（允许这些子表达式作为一个组被包含、排除、排列等）</span><br><span class="line">~ 			取消一个词的排序值</span><br><span class="line">* 			词尾的通配符</span><br><span class="line">&quot;&quot; 			定义一个短语（与单个词的列表不一样，它匹配整个短语以便包含或排除这个短语）</span><br></pre></td></tr></table></figure>
<p>特别：</p>
<p>A   B 其中一个就行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 文本列 from 表 where match(文本列) against(&apos;A B&apos; in boolean mode);</span><br></pre></td></tr></table></figure>
<p>A B 同时存在的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 文本列 from 表 where match(文本列) against(&apos;&quot;A B&quot;&apos; in boolean mode);</span><br></pre></td></tr></table></figure>
<h4 id="6、全文搜索说明"><a href="#6、全文搜索说明" class="headerlink" title="6、全文搜索说明"></a>6、全文搜索说明</h4><p> 在索引全文本数据时，短词被忽略且从索引中排除。短词定义为那些具有3个或3个以下字符的词（如果需要，这个数目可以更改）。<br> MySQL带有一个内建的非用词（stopword）列表，这些词在索引全文本数据时总是被忽略。如果需要，可以覆盖这个列表（请参阅MySQL文档以了解如何完成此工作）。<br> 许多词出现的频率很高，搜索它们没有用处（返回太多的结果）。因此，MySQL规定了一条50%规则，如果一个词出现在50%以上的行中，则将它作为一个非用词忽略。50%规则不用于IN BOOLEAN MODE。</p>
<p> 如果表中的行数少于3行，则全文本搜索不返回结果（因为每个词或者不出现，或者至少出现在50%的行中）。<br> 忽略词中的单引号。例如，don’t索引为dont。<br> 不具有词分隔符（包括日语和汉语）的语言不能恰当地返回全文本搜索结果。<br> 如前所述，仅在MyISAM数据库引擎中支持全文本搜索。</p>
<h1 id="十九、插入数据"><a href="#十九、插入数据" class="headerlink" title="十九、插入数据"></a>十九、插入数据</h1><h4 id="1，插入完整的行"><a href="#1，插入完整的行" class="headerlink" title="1，插入完整的行"></a>1，插入完整的行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inset into 表 values(&apos;值&apos;，&apos;值&apos;);</span><br></pre></td></tr></table></figure>
<p>不产生输出，但是这种简单但是很不安全，依赖顺序`</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inset into 表(列1，列2) values(&apos;值&apos;，&apos;值&apos;);</span><br></pre></td></tr></table></figure>
<p>安全，但是要繁琐一些</p>
<p>可以省略列，但是，前提必须允许为NULL或者有默认值</p>
<p>INSERT操作可能很耗时（特别是有很多索引需要更新时），而且它可能降低等待处理的SELECT语句的性能。</p>
<p>如果数据检索是最重要的（通常是这样），则你可以通过在INSERT和INTO之间添加关键字LOW_PRIORITY，指示MySQL降低INSERT语句的优先级</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inset low_priority into</span><br></pre></td></tr></table></figure>
<p>也适用于update 和delete</p>
<h4 id="2，插入多行"><a href="#2，插入多行" class="headerlink" title="2，插入多行"></a>2，插入多行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inset into 表(列1，列2) values(&apos;值&apos;，&apos;值&apos;)(&apos;值&apos;，&apos;值&apos;);</span><br></pre></td></tr></table></figure>
<h4 id="3，插入检索出的数据"><a href="#3，插入检索出的数据" class="headerlink" title="3，插入检索出的数据"></a>3，插入检索出的数据</h4><p>INSERT还存在另一种形式，可以利用它将一条SELECT语句的结果插入表中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inset into 表1(列1，列2) select 列3，列4 from 表2</span><br></pre></td></tr></table></figure>
<p>备注：主键值重复，可能会失败，所以，可以忽略，自动生成</p>
<p>可以添加where</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inset into 表1(列1，列2) select 列3，列4 from 表2 where 条件</span><br></pre></td></tr></table></figure>
<h1 id="二十、更新和删除数据"><a href="#二十、更新和删除数据" class="headerlink" title="二十、更新和删除数据"></a>二十、更新和删除数据</h1><h4 id="1，更新数据"><a href="#1，更新数据" class="headerlink" title="1，更新数据"></a>1，更新数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updata 表 set 列 = &apos;值&apos; where 条件</span><br></pre></td></tr></table></figure>
<p>更新多行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updata 表 set 列 = &apos;值&apos;, 列 = &apos;值&apos; where 条件</span><br></pre></td></tr></table></figure>
<p>更新多行时，如果出现错误，错误发生前更新的数据会恢复它们原来的值</p>
<p>即使发生错误，继续进行更新的时候，可以使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updata ignore 表 set 列 = &apos;值&apos;, 列 = &apos;值&apos; where 条件</span><br></pre></td></tr></table></figure>
<h4 id="2，删除数据"><a href="#2，删除数据" class="headerlink" title="2，删除数据"></a>2，删除数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from 表 where 条件</span><br></pre></td></tr></table></figure>
<h4 id="3，注意事项"><a href="#3，注意事项" class="headerlink" title="3，注意事项"></a>3，注意事项</h4><p>除非确实打算每一行，否则不要使用不带where的updata和delete</p>
<p>更新和删除之前，可以先用select确定一下</p>
<p>确认更改数据，因为SQL没有撤销功能</p>
<h1 id="二十一、创建和操纵表"><a href="#二十一、创建和操纵表" class="headerlink" title="二十一、创建和操纵表"></a>二十一、创建和操纵表</h1><h4 id="1，创建表"><a href="#1，创建表" class="headerlink" title="1，创建表"></a>1，创建表</h4><p>可以使用交互性创建和管理表的工具，也可以使用mysql语句创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table 表名</span><br><span class="line">(</span><br><span class="line">	列名1	类型	NULL/NOT NULL，</span><br><span class="line">	列名2	类型	NULL/NOT NULL，</span><br><span class="line">	primary key （列名）</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>默认是为NULL的</p>
<h4 id="2，主键再介绍"><a href="#2，主键再介绍" class="headerlink" title="2，主键再介绍"></a>2，主键再介绍</h4><p>主键值必须唯一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">primary key(列名)</span><br></pre></td></tr></table></figure>
<p>多个列为主键时，用‘，’隔开</p>
<h4 id="3，使用auto-increment"><a href="#3，使用auto-increment" class="headerlink" title="3，使用auto_increment"></a>3，使用auto_increment</h4><p>auto_increment告诉MySQL，每增加一行时，自动增量。每个表只允许auto_increment列，而且，它必须被索引</p>
<h4 id="4，指定默认值"><a href="#4，指定默认值" class="headerlink" title="4，指定默认值"></a>4，指定默认值</h4><p>default 指定 默认的值 </p>
<h4 id="5，引擎类型"><a href="#5，引擎类型" class="headerlink" title="5，引擎类型"></a>5，引擎类型</h4><p>不同的引擎具有各自不同的功能和特性，为不同的任务选择正确的引擎能获得良好的功能和灵活性。</p>
<p>可以省略，默认MyISAM</p>
<p> InnoDB是一个可靠的事务处理引擎（参见第26章），它不支持全文本搜索；<br> MEMORY在功能等同于MyISAM，但由于数据存储在内存（不是磁盘）中，速度很快（特别适合于临时表）；<br> MyISAM是一个性能极高的引擎，它支持全文本搜索（参见第18章），但不支持事务处理。</p>
<p>引擎类型可以混用</p>
<p>但是，外键不能跨引擎</p>
<h4 id="6，更新表"><a href="#6，更新表" class="headerlink" title="6，更新表"></a>6，更新表</h4><p>添加一列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表 add 新列名 类型</span><br></pre></td></tr></table></figure>
<p>删除一列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表 drop column 列名</span><br></pre></td></tr></table></figure>
<p>添加外键</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表1 add constraint 列1 foreign key (外键值) references 表2（列2）</span><br></pre></td></tr></table></figure>
<h4 id="7，删除表"><a href="#7，删除表" class="headerlink" title="7，删除表"></a>7，删除表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table 表</span><br></pre></td></tr></table></figure>
<h4 id="8，重命名表"><a href="#8，重命名表" class="headerlink" title="8，重命名表"></a>8，重命名表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename table 表1 to 表2</span><br></pre></td></tr></table></figure>
<h1 id="二十二、使用视图"><a href="#二十二、使用视图" class="headerlink" title="二十二、使用视图"></a>二十二、使用视图</h1><h4 id="1，视图"><a href="#1，视图" class="headerlink" title="1，视图"></a>1，视图</h4><p>不包含表中应该有的任何列或数据，它包含的是一个SQL查询（以正确联结表的相同的查询）</p>
<h4 id="2，为什么使用视图"><a href="#2，为什么使用视图" class="headerlink" title="2，为什么使用视图"></a>2，为什么使用视图</h4><p> 重用SQL语句。<br> 简化复杂的SQL操作。在编写查询后，可以方便地重用它而不必<br>知道它的基本查询细节。<br> 使用表的组成部分而不是整个表。<br> 保护数据。可以给用户授予表的特定部分的访问权限而不是整个<br>表的访问权限。<br> 更改数据格式和表示。视图可返回与底层表的表示和格式不同的<br>数据。</p>
<p><strong>性能问题</strong> 因为视图不包含数据，所以每次使用视图时，都<br>必须处理查询执行时所需的任一个检索。如果你用多个联结<br>和过滤创建了复杂的视图或者嵌套了视图，可能会发现性能<br>下降得很厉害。因此，在部署使用了大量视图的应用前，应<br>该进行测试</p>
<h4 id="3，视图的规则和限制"><a href="#3，视图的规则和限制" class="headerlink" title="3，视图的规则和限制"></a>3，视图的规则和限制</h4><p> 与表一样，视图必须唯一命名（不能给视图取与别的视图或表相<br>同的名字）。</p>
<p> 对于可以创建的视图数目没有限制。</p>
<p> 为了创建视图，必须具有足够的访问权限。这些限制通常由数据<br>库管理人员授予。</p>
<p> 视图可以嵌套，即可以利用从其他视图中检索数据的查询来构造<br>一个视图。</p>
<p> ORDER BY可以用在视图中，但如果从该视图检索数据SELECT中也<br>含有ORDER BY，那么该视图中的ORDER BY将被覆盖。</p>
<p> 视图不能索引，也不能有关联的触发器或默认值。</p>
<p> 视图可以和表一起使用。例如，编写一条联结表和视图的SELECT<br>语句。</p>
<h4 id="4，使用视图"><a href="#4，使用视图" class="headerlink" title="4，使用视图"></a>4，使用视图</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create view  	创建</span><br><span class="line">show create view viewname 查看创建视图</span><br><span class="line">drop view viewname 删除</span><br><span class="line">create or replace view</span><br></pre></td></tr></table></figure>
<h4 id="5，利用视图简化复杂的联结"><a href="#5，利用视图简化复杂的联结" class="headerlink" title="5，利用视图简化复杂的联结"></a>5，利用视图简化复杂的联结</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create view 视图名 as select 列1，列2 from 表1，表2 where 表1.列1=表2.列2 and 表1.3=表2.列4</span><br></pre></td></tr></table></figure>
<p>可以多次使用视图</p>
<h4 id="6，用视图重新格式化检索出的数据"><a href="#6，用视图重新格式化检索出的数据" class="headerlink" title="6，用视图重新格式化检索出的数据"></a>6，用视图重新格式化检索出的数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create view 视图名 as select 列1 from 表1 where 条件1 order by 条件2</span><br></pre></td></tr></table></figure>
<h4 id="7，使用视图与计算字段"><a href="#7，使用视图与计算字段" class="headerlink" title="7，使用视图与计算字段"></a>7，使用视图与计算字段</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create view 视图名 as select 列1，列2，列1*列2 as 新列名 from 表</span><br><span class="line"></span><br><span class="line">#使用</span><br><span class="line">select * from 视图名 where 条件</span><br></pre></td></tr></table></figure>
<p>大部分的视图，是不能更新的</p>
<h1 id="二十三、使用存储过程"><a href="#二十三、使用存储过程" class="headerlink" title="二十三、使用存储过程"></a>二十三、使用存储过程</h1><h4 id="1，储存过程"><a href="#1，储存过程" class="headerlink" title="1，储存过程"></a>1，储存过程</h4><p>存储过程简单来说，就是为以后的使用而保存的一条或多条MySQL语句的集合。可将其视为批文件，虽然它们的作用不仅限于批处理。</p>
<p> 通过把处理封装在容易使用的单元中，简化复杂的操作（正如前<br>面例子所述）。</p>
<p> 由于不要求反复建立一系列处理步骤，这保证了数据的完整性。<br>如果所有开发人员和应用程序都使用同一（试验和测试）存储过<br>程，则所使用的代码都是相同的。<br>这一点的延伸就是防止错误。需要执行的步骤越多，出错的可能<br>性就越大。防止错误保证了数据的一</p>
<p> 简化对变动的管理。如果表名、列名或业务逻辑（或别的内容）<br>有变化，只需要更改存储过程的代码。使用它的人员甚至不需要<br>知道这些</p>
<p><strong>优点</strong>：1，提高性能，储存过程比单独的SQL语句快</p>
<p>​            2，能编程强大、灵活的代码</p>
<p>​         3，安全</p>
<h4 id="2，创建储存过程"><a href="#2，创建储存过程" class="headerlink" title="2，创建储存过程"></a>2，创建储存过程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create procedure 过程名() begin select avg(列名) as 新列名 from 表;end;</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：如果命令行使用程勋要世界储存过程自身内的，字符，则最终不会成为储存过程的成分</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#定义 //</span><br><span class="line">delimiter //</span><br><span class="line"></span><br><span class="line">create procedure 过程名() begin select avg(列名) as 新列名 from 表;end//</span><br><span class="line">#回复;</span><br><span class="line">delimiter;</span><br></pre></td></tr></table></figure>
<p>除了/，其他的字符都可以</p>
<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call 过程名（）;</span><br></pre></td></tr></table></figure>
<h4 id="3，删除储存过程"><a href="#3，删除储存过程" class="headerlink" title="3，删除储存过程"></a>3，删除储存过程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop procedure 过程名</span><br></pre></td></tr></table></figure>
<p>如果，过程名不存在，则会报错。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop proccedure 过程名 if exists</span><br></pre></td></tr></table></figure>
<h4 id="4，使用参数"><a href="#4，使用参数" class="headerlink" title="4，使用参数"></a>4，使用参数</h4><p>一般，存储过程并不显示结果，而是把结果返回给你指定的变量</p>
<p><strong>变量</strong>：内存中一个特定的位置，用来零食存储数据</p>
<p>一个参数不能返回多个行和列</p>
<p>创建</p>
<p>比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create procedure 过程名(out 参数1 decimal(数值)，out 参数 decimal(数值))</span><br><span class="line">begin</span><br><span class="line">	select min（列) into 参数 from 表；</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<p>MySQL支持IN（传递给存储过程）、OUT（从存储过程传出，如这里所用）和INOUT（对存储过程传入和传出）类型的参数。</p>
<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call 过程名(@参数)</span><br></pre></td></tr></table></figure>
<p><strong>MySQL变量必须用@开始</strong></p>
<p>显示检索</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select @参数1，@参数2</span><br></pre></td></tr></table></figure>
<p>带数字参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create procedure 过程名(in 参数0 类型 out 参数1 decimal(数值)，out 参数 decimal(数值))</span><br><span class="line">begin</span><br><span class="line">	select min（列) into 参数 from 表；</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call 过程名(参数 ，@参数)</span><br></pre></td></tr></table></figure>
<p>查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select @参数</span><br></pre></td></tr></table></figure>
<p>最好网上再查一下</p>
<h4 id="5，建立智能储存过程"><a href="#5，建立智能储存过程" class="headerlink" title="5，建立智能储存过程"></a>5，建立智能储存过程</h4><p>太难，没搞懂，自己网上查</p>
<h4 id="6、检查储存过程"><a href="#6、检查储存过程" class="headerlink" title="6、检查储存过程"></a>6、检查储存过程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create procedure 过程名</span><br></pre></td></tr></table></figure>
<h1 id="二十四、使用游标"><a href="#二十四、使用游标" class="headerlink" title="二十四、使用游标"></a>二十四、使用游标</h1><h4 id="1，游标"><a href="#1，游标" class="headerlink" title="1，游标"></a>1，游标</h4><p>游标（cursor）是一个存储在MySQL服务器上的数据库查询，它不是一条SELECT语句，而是被该语句检索出来的结果集。</p>
<p>作用：游标主要用于交互式应用，其中用户需要滚动屏幕上的数据，并对数据进行浏览或做出更改</p>
<h4 id="2，创建游标"><a href="#2，创建游标" class="headerlink" title="2，创建游标"></a>2，创建游标</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create procedure 过程名()</span><br><span class="line">begin</span><br><span class="line">	declare 游标名 cursor</span><br><span class="line">	for</span><br><span class="line">	select 列 from 表;</span><br><span class="line">	end;</span><br></pre></td></tr></table></figure>
<h4 id="3，打开、关闭图标"><a href="#3，打开、关闭图标" class="headerlink" title="3，打开、关闭图标"></a>3，打开、关闭图标</h4><p>打开</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open 游标名</span><br></pre></td></tr></table></figure>
<p>关闭</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close 游标名</span><br></pre></td></tr></table></figure>
<p>MySQL将会到达end语句时自动关闭游标</p>
<h1 id="有序后置如何，请耐心等待"><a href="#有序后置如何，请耐心等待" class="headerlink" title="有序后置如何，请耐心等待"></a>有序后置如何，请耐心等待</h1>
    </div>
    
        <div class="reward">
    <div class="reward-wrap">赏
        <div class="reward-box">
            
            
                <span class="reward-type">
                    <img class="wechat" src="../img/reward-wepay.jpg"><b>微信打赏</b>
                </span>
            
        </div>
    </div>
    <p class="reward-tip">赞赏是不耍流氓的鼓励</p>
</div>


    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">Snippet</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/Python装饰器/" class="pre-post btn btn-default" title="">
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs"></span>
        </a>
    
    
        <a href="/MySQL基础/" class="next-post btn btn-default" title="">
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs"></span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
    
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '',
            appKey: '',
            placeholder: '看我这么乖，不说点什么吗？',
            notify: false,
            verify: false,
            avatar: 'gg',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、了解SQL"><span class="toc-text">一、了解SQL</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、MySQL简介"><span class="toc-text">二、MySQL简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，什么是MySQL"><span class="toc-text">1，什么是MySQL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，MySQL命令使用程序"><span class="toc-text">2，MySQL命令使用程序</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#三、使用MySQL"><span class="toc-text">三、使用MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-连接"><span class="toc-text">1,连接</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四、检索数据"><span class="toc-text">四、检索数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，检索单列"><span class="toc-text">1，检索单列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，检索多列"><span class="toc-text">2，检索多列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，检索所有"><span class="toc-text">3，检索所有</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，检索不同的行"><span class="toc-text">4，检索不同的行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5，限制结果"><span class="toc-text">5，限制结果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6，使用完全限定表名"><span class="toc-text">6，使用完全限定表名</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、排序检索数据"><span class="toc-text">五、排序检索数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#六、数据过滤"><span class="toc-text">六、数据过滤</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#七、数据过滤"><span class="toc-text">七、数据过滤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-and-操作符号"><span class="toc-text">1,and 操作符号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，or操作符号"><span class="toc-text">2，or操作符号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、计算次序"><span class="toc-text">3、计算次序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、in操作符"><span class="toc-text">4、in操作符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、not操作符"><span class="toc-text">5、not操作符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#八、用通配符进行过滤"><span class="toc-text">八、用通配符进行过滤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，like后跟通配符匹配"><span class="toc-text">1，like后跟通配符匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、下划线通配符"><span class="toc-text">2、下划线通配符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#九、正则表达式进行搜索"><span class="toc-text">九、正则表达式进行搜索</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，regexp-类型"><span class="toc-text">1，regexp 类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，or-类型"><span class="toc-text">2，or 类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，匹配几个字符之一"><span class="toc-text">3，匹配几个字符之一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，匹配范围"><span class="toc-text">4，匹配范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-特殊字符"><span class="toc-text">5,特殊字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-匹配字符类"><span class="toc-text">6,匹配字符类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7，匹配多个实例"><span class="toc-text">7，匹配多个实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-定位符"><span class="toc-text">8,定位符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十、创建计算字段"><span class="toc-text">十、创建计算字段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，计算字段"><span class="toc-text">1，计算字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，拼接字段"><span class="toc-text">2，拼接字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，使用别名"><span class="toc-text">3，使用别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，执行计算"><span class="toc-text">4，执行计算</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十一，使用数据处理函数"><span class="toc-text">十一，使用数据处理函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，函数"><span class="toc-text">1，函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，文本处理函数"><span class="toc-text">2，文本处理函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，日期和事件处理函数"><span class="toc-text">3，日期和事件处理函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，数值处理函数"><span class="toc-text">4，数值处理函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十二、汇总数据"><span class="toc-text">十二、汇总数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，聚集函数（运行在行组上，计算和返回单个值的函数）"><span class="toc-text">1，聚集函数（运行在行组上，计算和返回单个值的函数）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-avg"><span class="toc-text">1.1 avg()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2，count（）函数"><span class="toc-text">1.2，count（）函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-min-max"><span class="toc-text">1.3 min(),max()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-4-sum"><span class="toc-text">1.4 sum()</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，聚集不同值"><span class="toc-text">2，聚集不同值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，组合聚集函数"><span class="toc-text">3，组合聚集函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十三，分组数据"><span class="toc-text">十三，分组数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，创建分组"><span class="toc-text">1，创建分组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，过滤分组"><span class="toc-text">2，过滤分组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，分组和排序"><span class="toc-text">3，分组和排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，select-顺序"><span class="toc-text">4，select 顺序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十四、使用子查询"><span class="toc-text">十四、使用子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，利用子查询过滤"><span class="toc-text">1，利用子查询过滤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-作为计算字段使用子查询"><span class="toc-text">2,作为计算字段使用子查询</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十五、联结表"><span class="toc-text">十五、联结表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，关系表"><span class="toc-text">1，关系表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，为什么要使用联结"><span class="toc-text">2，为什么要使用联结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，创建联结"><span class="toc-text">3，创建联结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，笛卡尔积-又称为叉联结"><span class="toc-text">4，笛卡尔积(又称为叉联结)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5，内部联结"><span class="toc-text">5，内部联结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6，联结多个表"><span class="toc-text">6，联结多个表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十六、创建高级联结"><span class="toc-text">十六、创建高级联结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，使用表别名"><span class="toc-text">1，使用表别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，使用不同类型的联结"><span class="toc-text">2，使用不同类型的联结</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-自联结"><span class="toc-text">2.1 自联结</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-自然联结"><span class="toc-text">2.2 自然联结</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-外部联结"><span class="toc-text">2.3 外部联结</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4-使用带聚集函数的联结"><span class="toc-text">2.4 使用带聚集函数的联结</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-使用联结和联结条件"><span class="toc-text">3.使用联结和联结条件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十七、-组合查询"><span class="toc-text">十七、 组合查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，使用union"><span class="toc-text">1，使用union</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，使用union规则"><span class="toc-text">2，使用union规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，对结果排序"><span class="toc-text">3，对结果排序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十八、全文本搜索"><span class="toc-text">十八、全文本搜索</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，理解全文本搜索"><span class="toc-text">1，理解全文本搜索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，启动使用全文本搜索"><span class="toc-text">2，启动使用全文本搜索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，进行全文本搜索"><span class="toc-text">3，进行全文本搜索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，扩展查询"><span class="toc-text">4，扩展查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5，布尔文本搜索"><span class="toc-text">5，布尔文本搜索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6、全文搜索说明"><span class="toc-text">6、全文搜索说明</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十九、插入数据"><span class="toc-text">十九、插入数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，插入完整的行"><span class="toc-text">1，插入完整的行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，插入多行"><span class="toc-text">2，插入多行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，插入检索出的数据"><span class="toc-text">3，插入检索出的数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二十、更新和删除数据"><span class="toc-text">二十、更新和删除数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，更新数据"><span class="toc-text">1，更新数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，删除数据"><span class="toc-text">2，删除数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，注意事项"><span class="toc-text">3，注意事项</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二十一、创建和操纵表"><span class="toc-text">二十一、创建和操纵表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，创建表"><span class="toc-text">1，创建表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，主键再介绍"><span class="toc-text">2，主键再介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，使用auto-increment"><span class="toc-text">3，使用auto_increment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，指定默认值"><span class="toc-text">4，指定默认值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5，引擎类型"><span class="toc-text">5，引擎类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6，更新表"><span class="toc-text">6，更新表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7，删除表"><span class="toc-text">7，删除表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8，重命名表"><span class="toc-text">8，重命名表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二十二、使用视图"><span class="toc-text">二十二、使用视图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，视图"><span class="toc-text">1，视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，为什么使用视图"><span class="toc-text">2，为什么使用视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，视图的规则和限制"><span class="toc-text">3，视图的规则和限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，使用视图"><span class="toc-text">4，使用视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5，利用视图简化复杂的联结"><span class="toc-text">5，利用视图简化复杂的联结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6，用视图重新格式化检索出的数据"><span class="toc-text">6，用视图重新格式化检索出的数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7，使用视图与计算字段"><span class="toc-text">7，使用视图与计算字段</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二十三、使用存储过程"><span class="toc-text">二十三、使用存储过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，储存过程"><span class="toc-text">1，储存过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，创建储存过程"><span class="toc-text">2，创建储存过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，删除储存过程"><span class="toc-text">3，删除储存过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4，使用参数"><span class="toc-text">4，使用参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5，建立智能储存过程"><span class="toc-text">5，建立智能储存过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6、检查储存过程"><span class="toc-text">6、检查储存过程</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二十四、使用游标"><span class="toc-text">二十四、使用游标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1，游标"><span class="toc-text">1，游标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2，创建游标"><span class="toc-text">2，创建游标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3，打开、关闭图标"><span class="toc-text">3，打开、关闭图标</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#有序后置如何，请耐心等待"><span class="toc-text">有序后置如何，请耐心等待</span></a></li>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
        访问量:
        <strong id="busuanzi_value_site_pv">
            <i class="fa fa-spinner fa-spin"></i>
        </strong>
        &nbsp; | &nbsp;
        访客数:
        <strong id="busuanzi_value_site_uv">
            <i class="fa fa-spinner fa-spin"></i>
        </strong>
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>






    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>